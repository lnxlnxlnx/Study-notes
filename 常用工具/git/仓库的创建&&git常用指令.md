
将本地Git仓库上传到远程仓库，需根据**远程仓库是否已存在**分两种场景处理。以下是详细步骤+常用Git命令总结，帮你快速掌握操作：


### 一、场景1：远程仓库**不存在**（需先创建）  
**目标**：本地已有仓库 → 新建远程仓库 → 关联并推送。  


#### 步骤1：在代码托管平台创建远程仓库  
以GitHub为例（Gitee、GitLab操作类似）：  
1. 登录GitHub → 点击右上角`+` → `New repository`。  
2. 填写仓库信息（如名称`my-project`），**不勾选初始化文件**（重要！避免后续冲突）。  
3. 点击`Create repository`，得到远程仓库地址（HTTPS：`https://github.com/用户名/my-project.git`；SSH：`git@github.com:用户名/my-project.git`）。  


#### 步骤2：本地仓库关联远程并推送  
假设本地已有一个初始化的Git仓库（路径：`/path/to/local-repo`），操作如下：  

1. **进入本地仓库目录**（命令行）：  
   ```bash  
   cd /path/to/local-repo  
   ```  

2. **关联远程仓库**（首次关联）：  
   ```bash  
   git remote add origin <远程仓库地址>  # origin是远程仓库的别名（可自定义）  
   # 示例（HTTPS）：git remote add origin https://github.com/用户名/my-project.git  
   # 示例（SSH）：git remote add origin git@github.com:用户名/my-project.git  
   ```  

3. **查看远程仓库是否关联成功**：  
   ```bash  
   git remote -v  # 输出远程仓库地址，确认关联正确  
   ```  

4. **推送本地代码到远程**：  
   ```bash  
   git push -u origin <分支名>  # -u表示设置上游分支（后续可直接git push/pull）  
   # 示例（主分支通常是main或master）：git push -u origin main  
   ```  

   - 若提示认证失败（HTTPS）：输入GitHub的账号密码；  
   - 若使用SSH：需提前[生成并添加SSH密钥](https://docs.github.com/en/authentication/connecting-to-github-with-ssh)到GitHub。  


### 二、场景2：远程仓库**已存在**（需处理冲突）  
**目标**：本地已有仓库 → 远程已有内容（可能为空或非空） → 合并后推送。  


#### 情况A：远程仓库**为空**（无文件）  
直接按场景1的步骤关联并推送即可，无冲突。  


#### 情况B：远程仓库**非空**（已有文件）  
此时本地和远程可能存在文件冲突（如远程有`README.md`而本地没有），需先**拉取远程内容并合并**，再推送。  

1. **关联远程仓库**（同场景1步骤2）：  
   ```bash  
   git remote add origin <远程仓库地址>  
   ```  

2. **拉取远程内容并合并**：  
   ```bash  
   git pull origin <分支名> --allow-unrelated-histories  # 合并无关历史（首次拉取时可能需要）  
   ```  

   - 若提示冲突（如文件内容不一致）：手动编辑冲突文件（标记为`<<<<<<<`、`=======`、`>>>>>>>`的部分），保留正确内容后提交。  

3. **推送本地代码到远程**：  
   ```bash  
   git push origin <分支名>  
   ```  


### 三、常用Git命令速查表  
以下是日常开发中最常用的Git命令，按功能分类：  


#### 1. 仓库初始化与状态查看  
| 命令                          | 说明                                      |  
|-------------------------------|-------------------------------------------|  
| `git init`                    | 初始化本地Git仓库（生成`.git`目录）。      |  
| `git status`                  | 查看当前工作区状态（文件修改、未跟踪等）。|  


#### 2. 文件操作（添加、提交）  
| 命令                          | 说明                                      |  
|-------------------------------|-------------------------------------------|  
| `git add <文件/目录>`         | 将文件/目录添加到暂存区（`.`表示全部）。  |  
| `git commit -m "描述"`        | 将暂存区内容提交到本地仓库（需先`git add`）。|  
| `git commit --amend`          | 修改最近一次提交的描述或内容（谨慎使用）。|  


#### 3. 远程仓库管理  
| 命令                          | 说明                                      |  
|-------------------------------|-------------------------------------------|  
| `git remote add origin <地址>` | 关联远程仓库（`origin`是别名）。          |  
| `git remote -v`               | 查看已关联的远程仓库地址。                |  
| `git remote remove origin`    | 移除远程仓库关联。                        |  


#### 4. 分支操作  
| 命令                          | 说明                                      |  
|-------------------------------|-------------------------------------------|  
| `git branch`                  | 查看本地分支（`*`标记当前分支）。          |  
| `git branch <分支名>`          | 创建新分支（如`git branch dev`）。        |  
| `git checkout <分支名>`        | 切换到指定分支（如`git checkout dev`）。  |  
| `git checkout -b <分支名>`     | 创建并切换到新分支（如`git checkout -b dev`）。|  
| `git merge <分支名>`           | 合并指定分支到当前分支（如合并`dev`到`main`）。|  


#### 5. 拉取与推送（远程同步）  
| 命令                          | 说明                                      |  
|-------------------------------|-------------------------------------------|  
| `git pull origin <分支名>`     | 拉取远程分支内容并合并到本地（= `fetch` + `merge`）。|  
| `git push origin <分支名>`     | 推送本地分支内容到远程仓库。              |  


#### 6. 历史记录与回退  
| 命令                          | 说明                                      |  
|-------------------------------|-------------------------------------------|  
| `git log`                     | 查看提交历史（按`q`退出）。                |  
| `git reset --hard <提交ID>`    | 强制回退到指定提交（删除后续所有提交）。  |  


### 四、注意事项  
1. **分支命名规范**：主分支通常用`main`（或旧版`master`），开发分支用`dev`，功能分支用`feature-xxx`。  
2. **避免大文件**：Git不适合同步大文件（如视频、安装包），会导致仓库臃肿，建议用Git LFS（大文件存储）或云存储。  
3. **SSH vs HTTPS**：SSH需配置密钥但免密，适合长期使用；HTTPS需每次输入账号密码（可缓存），适合临时协作。  


### 总结  
- **远程仓库不存在**：先新建远程仓库（不初始化）→ 本地关联→ `git push`。  
- **远程仓库已存在**：若为空直接推送；若非空先`git pull`合并→ 解决冲突→ `git push`。  
- 常用命令覆盖初始化、提交、分支、远程同步等场景，熟练后可高效管理代码。