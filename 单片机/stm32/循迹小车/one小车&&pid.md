以下是关于 STM32 循迹小车开发中 PID 和卡尔曼滤波的相关知识点及常用 API：

### PID 相关知识点

  * **PID 原理** ：PID 控制算法是一种线性控制算法，通过调整系统的偏差（期望值与实际值之差）来实现对系统的控制。它由比例（P）、积分（I）、微分（D）三个环节组成。比例环节直接对偏差进行放大，偏差越大，控制作用越强；积分环节对偏差进行累积，可以消除系统的静差；微分环节对偏差的变化率进行预测，可以提高系统的响应速度和稳定性。
  * **PID 参数调节** ：先调 P，逐渐增加 P 直到系统出现震荡，将当前值乘 0.7 就是比较合适的值；再调 I，将稳态误差逐渐降低；后调 D，将最大超调量降到最低。
  * **PID 在 STM32 循迹小车中的应用** ：在循迹小车中，PID 控制可用于调节电机的速度，使小车沿设定轨迹行驶。例如，通过编码器获取电机的实际转速，将其与目标转速进行比较，得到的误差值作为 PID 控制的输入，经 PID 算法计算后输出控制信号，调整电机的 PWM 占空比，从而控制电机的转速。

### 卡尔曼滤波相关知识点

  * **卡尔曼滤波原理** ：卡尔曼滤波是一种用于估计动态系统状态的递归算法，通过引入系统模型和观测模型，利用预测和更新两个步骤，不断修正对系统状态的估计，可有效处理传感器数据中的噪声，提高数据的可信度和精度。
  * **卡尔曼滤波在 STM32 循迹小车中的应用** ：在循迹小车中，可用于处理各种传感器数据，如超声波传感器测距数据、编码器测速数据等，以得到更准确的环境信息和小车运动状态信息，从而为控制算法提供更可靠的依据。

### STM32 常用 API

  * **GPIO 操作 API** ：用于配置和操作 GPIO 引脚，实现传感器和执行器的连接与控制。例如，`HAL_GPIO_Init` 用于初始化 GPIO 引脚，`HAL_GPIO_WritePin` 用于设置 GPIO 引脚的输出电平，`HAL_GPIO_ReadPin` 用于读取 GPIO 引脚的输入电平。
  * **ADC 操作 API** ：用于读取模拟传感器的数据，如电池电压、光照强度等。`HAL_ADC_Init` 用于初始化 ADC，`HAL_ADC_Start` 用于启动 ADC 转换，`HAL_ADC_PollForConversion` 用于等待 ADC 转换完成，`HAL_ADC_GetValue` 用于获取 ADC 转换结果。
  * **TIM 操作 API** ：用于定时和 PWM 信号生成，控制电机的转速和定时采样传感器数据。`HAL_TIM_PWM_Start` 用于启动 PWM 信号输出，`HAL_TIM_PWM_Stop` 用于停止 PWM 信号输出，`HAL_TIM_PWM_ConfigChannel` 用于配置 PWM 通道。
  * **串口通信 API** ：用于与上位机或其他设备进行串口通信，实现参数配置和数据传输。`HAL_UART_Init` 用于初始化 UART 串口，`HAL_UART_Transmit` 用于发送数据，`HAL_UART_Receive` 用于接收数据。